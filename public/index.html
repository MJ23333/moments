<!DOCTYPE html>
<html>
    <head>
	<meta name="generator" content="Hugo 0.88.1" />
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referrer" content="never">



<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>


<link href="/fa/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/jqueryui@1.11.1/jquery-ui.min.js"></script>


<link rel="icon" href="/favicon/favicon.png" />

<link rel="stylesheet" type="text/css" href="/css/style.css">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css"/>

<link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/base-min.css">
<link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/grids-min.css">
<link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/grids-responsive-min.css">
<link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.0/build/styles/default.min.css">
			<script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js"></script>
			<script>
				
				
				pangu.spacingElementByTagName('p');
				document.addEventListener('DOMContentLoaded', () => {
					
					pangu.autoSpacingPage();
				});
			</script>
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.0/build/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<title>Edward Kerman 的随笔</title>
    </head>
    <body>
        <div class="page">
            <div class="jumbotron" style="background-image: url();">
    <div class="container">
        <div class="site-title">Edward Kerman 的随笔</div>
        <p class="signature">Chemistry fucks me everyday!</p>
    </div>
</div>

            
    <div class="container">
        
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">May 8th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <!-- 下面开始写正文 -->
<p>再翻两首：</p>
<center style='line-height:2em!important;font-family:STSong,serif!important;'>
绿树的浓荫下放一卷诗章，<br>
一壶美酒，和一点食粮——<br>
有你在这荒原上傍我歌唱——<br>
此时荒原便是天堂。<br>
<br><br>
有人希图现世的荣耀；<br>
有人盼望明日的天堂，<br>
取下这现钱，别管那契券——<br>
远处鞺鞑的鼓声别放心上！<br>
</center>
<p>以后有时间一定为此做首曲子。</p>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                        
                    

                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">17:15 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">May 7th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <!-- 下面开始写正文 -->
<p>鲁拜集可真是个宝藏，感谢田志仁的音乐！在郭沫若的翻译上做了一些个人修改，先来一首：</p>
<center style='line-height:2em!important;font-family:STSong,serif!important;'>
来呀，请来浮此一觞，<br>在这春阳中褪去忏悔的冬裳；<br>时鸟之行已无多路，<br>何况它正振翮飞舞。<br></center>
<p>以后有时间一定为此做首曲子。</p>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                        
                    

                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">22:01 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">May 6th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <!-- 下面开始写正文 -->
<p>重新回看了一遍内恰<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>的个人剧情，找到不少共感之处<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>，不是谁都像铁奥一样是天才儿童，平凡配角（吗？）的奋斗也会令人热血沸腾啊。</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>不得不说，内恰和德狗一样长在我的XP上&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>我最近好像也与3有缘啊&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                        
                    

                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">11:11 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">May 1st</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <!-- 下面开始写正文 -->
<p>鲨鲨我来辣！</p>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                        
                    

                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">16:00 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">Apr 25th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <!-- 下面开始写正文 -->
<p>麻了，飞行棋贡献全场 $\frac45$ 的（被）击杀数，做实验还在最后一次分液的时候爆炸（物理意义），搁着锻炼心态呢？只能说——</p>
<blockquote>
<p>移液丁真，鉴定为挂壁</p>
</blockquote>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                        
                    

                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">21:05 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">Mar 18th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <!-- 下面开始写正文 -->
<blockquote>
<p><strong>看了pv</strong>：woc，好家伙，一股卡拉克沙漠的味道，RTS<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>？有勇气，yj——NB！(p≧w≦q)<br>
<strong>看了实机</strong>：一个没有战斗的实机<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>？开放世界？动作？这不画饼么？🤔<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup><br>
<strong>看了官方介绍</strong>：即时战略RPG？<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup></p>
</blockquote>
<p>以下是官网爬到的关键字（节选）：</p>
<pre tabindex="0"><code>明日方舟终末地,鹰角,角色扮演,免费下载,Unity,免费游玩,内购
</code></pre><p>注意原来是有即时战略的，但怕泄露就在发PV前删了。</p>
<p>关于游戏整体的玩法，从菜单来看（编队图标看成Dropbox还有救吗？），应该是基建（所谓的<strong>自动化集成工业系统</strong>） + 探索（喜闻乐见的<strong>战斗</strong>）——类似于皇室战争和辐射避难所（感觉是副本制？那代理指挥一定得留着啊）。罗德岛的标志的棋子暗示塔防，那终末地工业的螺丝就可能暗示搞基建是很重要的玩法（模拟经营占比挺大），且是独立于战斗的（和RTS在对局中建造不同）。我推测终末地应该不是开放世界，而是箱庭式探索。从官网图看应该是玩家自选主角性别（<del>旅行者</del>），不过“管理员（<strong>End</strong>ministrator）”这个名字总感觉不如博士上头。</p>
<p>战斗部分：</p>
<p><strong>即时战略RPG</strong>，我认为它和RTS还是很不一样的，类似RA或AoE的大场面就别想了（<del>克洛丝军团？</del>）。我感觉应该和<strong>TRPG</strong>（日本那边叫 simulation RPG）差不多<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup>，参考比较老的火纹、皇骑还有比较新的三角战略（<del>我的像素回忆</del>）。但实机的自由视角，可控制角色这些就不好说了。</p>
<p>还有一种可能，就是yj想做RTS（也有可能是4X原则的SLG<sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup>），想搞PV里的大场面——同时卖角色，于是让你可以单独控制角色搞<strong>小队</strong>探索。、</p>
<p>其实吧，我更倾向的是这个实机是来<strong>搞笑</strong>的，可能就是个临时建模的Demo，只是带你Walk Around，同时秀一下渲染，比如相机运动一看就是临时的、场景的模应该也是赶工建的。与实际玩法没啥关系，不然为什么连战斗都没有？从实机也能看出项目进度距离测试还有很长的路要走。</p>
<p>联机方面，我认为还是单机为主，毕竟作为养成类游戏，不同练度、氪度的玩家PVP的体验应该不会太好，联机PVE倒还有可能（参看好友右边的一个小按钮，从图标推测应该和多人有关）。</p>
<p>说完最搞不懂的策划环节，接着说说游戏技术：</p>
<p>引擎还是很保守地选择了U3D，画面就全看<strong>TA</strong>和美术的水平了：你既可以得到稀饭一样的垃圾手游画质，也可以得到崩崩崩一样全球顶尖的卡通渲染（或者官方的死亡之书）。但在我的印象中中国研究卡通渲染比较深的貌似只有米哈游，其他的大多没咋动渲染管线，风格化的程度也不及上面俩（比如来自星辰和少前二<sup id="fnref:7"><a href="#fn:7" class="footnote-ref" role="doc-noteref">7</a></sup>）。</p>
<p>这次实机光影不错但建模比较拉，但毕竟是赶工 + （极大概率上）神机高画质录制，不好评判。希望比来自星辰好吧。不过，sRPG或者RTS的话对人物要求应该没那么高[&amp;9]，从实机表现来看，只要以后画质缩水不太严重（不要向性能妥协！画质万岁！），效果应该还不错。</p>
<p>UI方面，只能说——yjNB，必须实装，太帅了。</p>
<p>配乐——PV是老朋友The Either，质量上乘，希望音角保持优良传统。</p>
<p>世界观——移动城市，源石，高墙(+)，太空(+)，传送(+)<sup id="fnref:8"><a href="#fn:8" class="footnote-ref" role="doc-noteref">8</a></sup>，环带(+)（α还是ζ？），终末地工业(+)，天使(+)，侵蚀(+)（满满的死亡搁浅味），塔卫二(+)（感觉是泰拉两个月亮中的一个），伤口自动愈合(+)（PV结尾）。至于人设，希望yj保持明日方舟的水平。</p>
<p>补充：首发预告四国语言，看来yj是想对标原神。</p>
<p>但联想到上次看预告这么激动的还是战地2042，我忽然冷静下来，还是静静看yj的操作吧。希望慢工出细活，只要质量过关，<em><strong>运营</strong></em>别<strong>太</strong>阴间，肯定是要支持的；假如质量上乘，人设讨喜，我直接<strong>充爆</strong>好吧。</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>当时我还在想RTS怎么卖人设&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>优化任务繁重，试看未来画质和实机演示相差几个数量级。不过原生PC支持好耶！&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>话说云母、yj的新作咋全是3D？&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p>泪目！守住了，初心<del>部分</del>守住了啊！&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5" role="doc-endnote">
<p>少前2的战棋也算一种sRPG？&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:6" role="doc-endnote">
<p>那可是真是<del>带  制  作</del>&#160;<a href="#fnref:6" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:7" role="doc-endnote">
<p>但少前二建模真不戳&#160;<a href="#fnref:7" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:8" role="doc-endnote">
<p>建议改为地  狱  伞  兵&#160;<a href="#fnref:8" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                        
                    

                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">11:10 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">Mar 14th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <p>我首先用了以下方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">NSWindow <span style="color:#f92672">*</span>cocoa_window <span style="color:#f92672">=</span> (NSWindow<span style="color:#f92672">*</span>)window.getSystemHandle() ;
GLint opaque <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
[cocoa_window setStyleMask:NSWindowStyleMaskBorderless];
[cocoa_window setLevel: NSFloatingWindowLevel];
[[[cocoa_window contentView] openGLContext] setValues:<span style="color:#f92672">&amp;</span>opaque forParameter:NSOpenGLContextParameterSurfaceOpacity];
[cocoa_window setBackgroundColor:[NSColor clearColor]];
[cocoa_window setOpaque:NO];
</code></pre></div><p>鼠标不能穿过透明部分，读 Apple 的文档试了 1h 后没有任何改变。不得不跑到 Stack Overflow 问出了人生中第一个问题。</p>
<p>根据我的经验，应该没有人会回答，😞。</p>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                        
                    

                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">11:33 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">Mar 13th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <p>在 MusicFox 中加入快进功能时，使用了以下代码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Player</span>) <span style="color:#a6e22e">Speedup</span>() {
	<span style="color:#a6e22e">speaker</span>.<span style="color:#a6e22e">Lock</span>()
	<span style="color:#a6e22e">pos</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">seeker</span>.<span style="color:#a6e22e">Position</span>()
	<span style="color:#a6e22e">pos</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">SampleRate</span>.<span style="color:#a6e22e">N</span>(<span style="color:#ae81ff">10</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>)
	<span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">seeker</span>.<span style="color:#a6e22e">Seek</span>(<span style="color:#a6e22e">pos</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">timechange</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>
	}
	<span style="color:#a6e22e">speaker</span>.<span style="color:#a6e22e">Unlock</span>()
}
</code></pre></div><p>但每次都会<code>Seek</code>失败，Debug 发现是获得的<code>p.seeker.len()=0</code>，查看 beep 库代码也没有结果，直到追溯回 beep 引用的 go-mp3 ，发现获取时长需要 <code>io.Seek()</code><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>，显然，读取<code>request</code>的<code>byte reader</code>没办法完成</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">source</span>.<span style="color:#a6e22e">reader</span>.(<span style="color:#a6e22e">io</span>.<span style="color:#a6e22e">Seeker</span>); !<span style="color:#a6e22e">ok</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
}
</code></pre></div><p>我们不得不先把文件下载下来再用<code>File</code>读取（笨<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>）。</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://github.com/hajimehoshi/go-mp3/blob/96c001d18d97b5b09170cab468347a368c3130de/decode.go#L126">源代码见此</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="https://github.com/jeffallen/seekinghttp/blob/master/seekinghttp.go">这个</a>应该可以学习，但我太懒了┓( ´∀` )┏&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                        
                    

                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">14:10 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">Mar 11th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <p>1TV杯正面对刚WC，<strong>爱了爱了</strong>🤤。</p>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                                
                            
                        
                    

                    
                        
                            <img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h09eklbfrcj20r20c00tq.jpg" class="single-pic" alt="Responsive image" data-fancybox="gallery"></img>
                        
                    

                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">14:35 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
            <div class="moment-row">

    <div class="pure-g">
        
        <div class="pure-u-1 pure-u-sm-1-3">
            <div class="time">
                <div class="month-day">Feb 20th</div>
                <div class="year">2022</div>
            </div>
        </div>

        
        <div class="pure-u-1 pure-u-sm-2-3">
            <div class="moment-content">
                
                

                
                <div class="user-info">
                    <div class="avatar-block">
                        
                        
                        <img src='/img/default_avatar.png' class="avatar">
                        
                    </div>
                    <div class="intro">
                        
                        <div class="name">Edward Kerman</div>
                        
                        <div>
                            
                            
                                
                                    
                                
                                    
                                
                            
                            
                        </div>
                    </div>
                </div>
                <div style="padding-left: 5px; padding-right: 5px;">
                    
                    <div class="context">
                        <p>看得最认真的一届奥运会了
p2附世界名画
————————————————————
ISU快点抬高升组年龄啊🙏🏻🙏🏻🙏🏻</p>

                    </div>
                    
                    
                    
                    

                    
                    
                    

                    

                    
                    
                    
                        
                            
                                
                            
                        
                            
                                
                            
                        
                            
                                
                            
                        
                    

                    

                    
                        



<div class="pic-grid" style="width: 80%">
    <div class="pure-g">
        
        <div class="pure-u-1-3">
            <div class="add-padding">
                <div class="img-container">
                    <a data-src="http://photogz.photo.store.qq.com/psc?/V13sXDHr2kCztK/05RlWl8gsTOH*Z17MtCBzAyumE.j75Vb87GLNmYl8v.FrscI7qlvuJyE0zotR.3lY3aLrIrdDOPxZ8bFNZV9Tw!!/b&amp;bo=QAaEA0AGhAMRADc!" data-fancybox="gallery">
                        <img src="http://photogz.photo.store.qq.com/psc?/V13sXDHr2kCztK/05RlWl8gsTOH*Z17MtCBzAyumE.j75Vb87GLNmYl8v.FrscI7qlvuJyE0zotR.3lY3aLrIrdDOPxZ8bFNZV9Tw!!/b&amp;bo=QAaEA0AGhAMRADc!" alt="pictures"/>
                    </a>
                </div>
            </div>
        </div>
        
        <div class="pure-u-1-3">
            <div class="add-padding">
                <div class="img-container">
                    <a data-src="http://photogz.photo.store.qq.com/psc?/V13sXDHr2kCztK/05RlWl8gsTOH*Z17MtCBzMvOXLl3HIl4Td1xsY.4yFos.P0F8vDY9d.rq2O54MFKlNx7HUPbIxCqFEy*SoesOw!!/b&amp;bo=wAG8AMABvAARADc!" data-fancybox="gallery">
                        <img src="http://photogz.photo.store.qq.com/psc?/V13sXDHr2kCztK/05RlWl8gsTOH*Z17MtCBzMvOXLl3HIl4Td1xsY.4yFos.P0F8vDY9d.rq2O54MFKlNx7HUPbIxCqFEy*SoesOw!!/b&amp;bo=wAG8AMABvAARADc!" alt="pictures"/>
                    </a>
                </div>
            </div>
        </div>
        
        <div class="pure-u-1-3">
            <div class="add-padding">
                <div class="img-container">
                    <a data-src="https://www.emojiall.com/images/60/telegram/1f62d.gif" data-fancybox="gallery">
                        <img src="https://www.emojiall.com/images/60/telegram/1f62d.gif" alt="pictures"/>
                    </a>
                </div>
            </div>
        </div>
        
    </div>
</div>
                    

                    
                    
                    
                    

                    

                    
                    <div class="moment-note">
                        <p class="note">22:42 </p>
                        <div style="padding-right: 12px;"><i class="far fa-heart"></i></div>
                    </div>
                </div>
                <hr style="clear: both">
            </div>
        </div>
    </div>

</div>
        
    </div>

        
            
            <div class="center">
                <div class="pagination">
                    
    
    
        <div class="page-item disabled">Previous</div>
    

    
    
        
        <div class="page-item active">1</div>
        
    
        
        <a class="page-link" href="/2"><div class="page-item">2</div></a>
        
    
        
        <a class="page-link" href="/3"><div class="page-item">3</div></a>
        
    
        
        <a class="page-link" href="/4"><div class="page-item">4</div></a>
        
    
        
        <a class="page-link" href="/5"><div class="page-item">5</div></a>
        
    
        
        <a class="page-link" href="/6"><div class="page-item">6</div></a>
        
    
        
        <a class="page-link" href="/7"><div class="page-item">7</div></a>
        
    

    
    <a class="page-link" href="/2">
        <div class="page-item">Next</div>
    </a>
    

                </div>
            </div>

            <div class="footer">
Powered by <a href="https://www.hugo.io">Hugo</a> | Theme <a href="https://github.com/FarseaSH/hugo-theme-moments">Moments</a>
</div>
<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
		extensions: ["tex2jax.js"],
		jax: ["input/TeX", "output/HTML-CSS"],
		TeX: {
			extensions: ["mhchem.js"],
			Macros: {
					d: "{\\mathrm d}",
					p: "{\\mathrm p}",
					pKa: "{\\mathrm{p}K_{a}}",
					Ka: "{K_{a}}",
					pH: "{\\mathrm{pH}}",
					H: "{\\left\[\\ce{H+}\\right\]}",
					c: ["{\\left\[\\ce{ #1}\\right\]}",1],
					B: "{\\mathrm B}",
					A: "{\\mathrm A}",
					C: "{\\mathrm C}",
					r: "{\\mathrm r}",
					a: "{\\mathrm a}",
					m: "{\\mathrm m}",
					D: "{\\Delta}",
					o: "{\\ominus}",
					Ek: "{E_{\\mathrm k}}",
					Ep: "{E_{\\mathrm p}}",
					K: "{\\space\\mathrm K}",
					J: "{\\space\\mathrm J}",
					kJ: "{\\space\\mathrm {kJ}}",
					eV: "{\\space\\mathrm {eV}}",
					mol: "{\\space\\mathrm {mol}}",
					kjm: "{\\space\\mathrm {kJ}\\cdot\\mathrm {mol}^{-1}}",
					align: ["{\\begin{align*} #1 \\end{align*}}",1],
					f: ["{\\frac{\\partial  #1}{\\partial  #2}}",2],
					l: ["{\\left( #1\\right)}",1],
					lf: ["{\\left(\\frac{\\partial  #1}{\\partial  #2}\\right)}",2],
					red: ["{\\color{red}{ #1}}",1],
					green: ["{\\color{green}{ #1}}",1],
					blue: ["{\\color{blue}{ #1}}",1],
					bm: ["{\\boldsymbol{ #1}}",1]
			}
		},
		tex2jax: {
			inlineMath: [ ['$','$'], ["\\(","\\)"] ],
			displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
			processEscapes: true
		},
		CommonHTML: { linebreaks: { automatic: true } },
		"HTML-CSS": { linebreaks: { automatic: true },fonts: ["Gyre-Pagella"] },
		 SVG: { linebreaks: { automatic: true } }
	});
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>

        </div>

        
<script>
    $(".fa-heart").click(function(){
        if ($(this).attr("red") == 'true'){
            $(this).animate({color:"#808080"});
            $(this).attr("red", false);
        } else {
            $(this).animate({color:"#ff0000"});
            $(this).attr("red", true);
        }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script>


    </body>

</html>
